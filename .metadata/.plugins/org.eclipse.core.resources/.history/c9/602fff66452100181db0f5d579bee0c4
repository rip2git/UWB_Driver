#include "COMHandler.h"
#include "CheckSum.h"



COMHandler::COMHandler()
{
	COMPort::InitializationStruct init_str;
	init_str.baudRate = 115200;
	init_str.timeOut.Ms = 10;
	init_str.timeOut.nChars = 0;

	char pn[] = "COM1";
	for (int i = 1; i < 10; ++i) {
		pn[3] = i | 0x30;
		init_str.portName = pn;
		port.Initialization(&init_str);
		if (port.GetState() == COMPort::OPENED)
			break;
	}
	if (port.GetState() == COMPort::OPENED)
		this->state = COMHandler::STATE::OPENED;
	else
		this->state = COMHandler::STATE::CLOSED;
}



COMHandler::STATE COMHandler::GetState() const
{

}



COMHandler::RESULT COMHandler::Send(const UserPack *pack) const
{

}



COMHandler::RESULT COMHandler::Receive(const UserPack *pack) const
{

}


