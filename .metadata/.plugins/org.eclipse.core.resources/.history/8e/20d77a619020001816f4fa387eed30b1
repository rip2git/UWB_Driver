#include "UserPack.h"


unsigned int UserPack::ToBytes(unsigned char *buffer) const
{
	unsigned int i = 0;
	buffer[i++] = static_cast <unsigned char> (this->Command);
	buffer[i++] = this->DestinationID;
	buffer[i++] = this->TotalSize;
	for (unsigned int j = 0; j < this->TotalSize; ++j)
		buffer[i++] = this->Data[j];
}



void UserPack::ToStruct(const unsigned char *buffer)
{
	unsigned int i = 0;
	this->Command = static_cast <UserPack::COMMAND> (buffer[i++]);
	this->DestinationID = buffer[i++];
	this->TotalSize = buffer[i++];
	for (unsigned int j = 0; j < this->TotalSize; ++j)
		this->Data[j] = buffer[i++];
}
