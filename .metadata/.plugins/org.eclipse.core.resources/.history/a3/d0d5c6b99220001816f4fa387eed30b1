#ifndef USERPACK_H_
#define USERPACK_H_


//#define DEBUG_MODE


struct UserPack {

	enum class COMMAND : unsigned char {
		SetID = 1,
		Distance,
		Data
	};
	static const unsigned char BROADCAST_ID = 0xFF;
	static const unsigned char DATA_OFFSET = 3;

	COMMAND Command;
	unsigned char DestinationID;
	unsigned char TotalSize;
	unsigned char *Data;

	unsigned int ToBytes(unsigned char *buffer) const;
	void ToStruct(const unsigned char *buffer);
#ifdef DEBUG
	void Print() const;
#endif
};



#endif /* USERPACK_H_ */
